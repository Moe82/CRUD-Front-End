{"ast":null,"code":"import _toConsumableArray from \"/Users/mohamedshafee/Documents/TTP/CRUD/CRUD-Front-End/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/Users/mohamedshafee/Documents/TTP/CRUD/CRUD-Front-End/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport axios from \"axios\"; // local backend server port number\n\nvar PORT = 8085; // ACTION TYPES;\n\nvar FETCH_ALL_CAMPUSES = \"FETCH_ALL_CAMPUSES\";\nvar DELETE_CAMPUS = \"DELETE_CAMPUS\";\nvar ADD_CAMPUS = \"ADD_CAMPUS\";\nvar UPDATE_CAMPUS = \"UPDATE_CAMPUS\"; // ACTION CREATORS;\n\nvar fetchAllCampusesActionCreator = function fetchAllCampusesActionCreator(campuses) {\n  console.log(campuses);\n  console.log(\"HERE\", _objectSpread({}, campuses.campuses, {\n    totalStudents: campuses.campuses.students.length\n  })); // let campuses = [...campuses.campuses, totalStudents = campuses.campuses.students.length]\n\n  return {\n    type: FETCH_ALL_CAMPUSES,\n    payload: campuses.campuses\n  };\n};\n\nvar deleteCampusActionCreator = function deleteCampusActionCreator(campusID) {\n  return {\n    type: DELETE_CAMPUS,\n    payload: campusID\n  };\n};\n\nvar addCampusActionCreator = function addCampusActionCreator(campus) {\n  return {\n    type: ADD_CAMPUS,\n    payload: campus\n  };\n};\n\nvar updateCampusActionCreator = function updateCampusActionCreator(campus) {\n  return {\n    type: UPDATE_CAMPUS,\n    payload: campus\n  };\n}; // THUNK CREATORS;\n\n\nexport var fetchAllCampuses = function fetchAllCampuses() {\n  return function (dispatch) {\n    return axios.get(\"http://localhost:\".concat(PORT, \"/api/campuses\")).then(function (res) {\n      return res.data;\n    }).then(function (campuses) {\n      return dispatch(fetchAllCampusesActionCreator(campuses));\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  };\n};\nexport var deleteCampus = function deleteCampus(campusID) {\n  return function (dispatch) {\n    return axios.delete(\"http://localhost:\".concat(PORT, \"/api/campuses\"), {\n      data: {\n        id: campusID\n      }\n    }).then(function () {\n      dispatch(deleteCampusActionCreator(campusID));\n    });\n  };\n};\nexport var addCampus = function addCampus(campus) {\n  return function (dispatch) {\n    console.log(campus);\n    axios.post(\"http://localhost:\".concat(PORT, \"/api/campuses\"), {\n      name: campus.campusName,\n      address: campus.campusAddress,\n      img: \"https://image.flaticon.com/icons/png/512/904/904810.png\"\n    }).then(function (response) {\n      dispatch(addCampusActionCreator(response.data));\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n};\nexport var updateCampus = function updateCampus(campus) {\n  return function (dispatch) {\n    return axios.put(\"http://localhost:\".concat(PORT, \"/api/campuses\"), {\n      campus: campus\n    }).then(function (response) {\n      dispatch(updateCampusActionCreator(response.data));\n    }).catch(function (error) {\n      return console.error(error);\n    });\n  };\n};\n\nvar reducer = function reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case FETCH_ALL_CAMPUSES:\n      return action.payload;\n\n    case DELETE_CAMPUS:\n      var newState = state.filter(function (campus) {\n        return campus.id != action.payload;\n      });\n      return newState;\n\n    case ADD_CAMPUS:\n      return _toConsumableArray(state).concat([action.payload]);\n\n    case UPDATE_CAMPUS:\n      return action.payload;\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["/Users/mohamedshafee/Documents/TTP/CRUD/CRUD-Front-End/src/store/utilities/CampusUtilities.js"],"names":["axios","PORT","FETCH_ALL_CAMPUSES","DELETE_CAMPUS","ADD_CAMPUS","UPDATE_CAMPUS","fetchAllCampusesActionCreator","campuses","console","log","totalStudents","students","length","type","payload","deleteCampusActionCreator","campusID","addCampusActionCreator","campus","updateCampusActionCreator","fetchAllCampuses","dispatch","get","then","res","data","catch","err","deleteCampus","delete","id","addCampus","post","name","campusName","address","campusAddress","img","response","updateCampus","put","error","reducer","state","action","newState","filter"],"mappings":"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","sourcesContent":["import axios from \"axios\";\n\n// local backend server port number\nconst PORT = 8085;\n\n// ACTION TYPES;\nconst FETCH_ALL_CAMPUSES = \"FETCH_ALL_CAMPUSES\";\nconst DELETE_CAMPUS = \"DELETE_CAMPUS\";\nconst ADD_CAMPUS = \"ADD_CAMPUS\";\nconst UPDATE_CAMPUS = \"UPDATE_CAMPUS\";\n\n// ACTION CREATORS;\nconst fetchAllCampusesActionCreator = (campuses) => {\n  console.log(campuses)\n  console.log(\"HERE\", {...campuses.campuses, totalStudents: campuses.campuses.students.length})\n  // let campuses = [...campuses.campuses, totalStudents = campuses.campuses.students.length]\n  return {\n    type: FETCH_ALL_CAMPUSES,\n    payload: campuses.campuses,\n  };\n};\n\nconst deleteCampusActionCreator = (campusID) => {\n  return {\n    type: DELETE_CAMPUS,\n    payload: campusID,\n  };\n};\n\nconst addCampusActionCreator = (campus) => {\n  return {\n    type: ADD_CAMPUS,\n    payload: campus,\n  };\n};\n\nconst updateCampusActionCreator = (campus) => {\n  return {\n    type: UPDATE_CAMPUS,\n    payload: campus,\n  };\n};\n\n// THUNK CREATORS;\nexport const fetchAllCampuses = () => (dispatch) => {\n  return axios\n    .get(`http://localhost:${PORT}/api/campuses`)\n    .then((res) => res.data)\n    .then((campuses) => dispatch(fetchAllCampusesActionCreator(campuses)))\n    .catch((err) => console.log(err));\n};\n\nexport const deleteCampus = (campusID) => (dispatch) => {\n  return axios\n    .delete(`http://localhost:${PORT}/api/campuses`, {\n      data: {\n        id: campusID,\n      },\n    })\n    .then(() => {\n      dispatch(deleteCampusActionCreator(campusID));\n    });\n};\n\nexport const addCampus = (campus) => (dispatch) => {\n  console.log(campus);\n  axios\n    .post(`http://localhost:${PORT}/api/campuses`, {\n      name: campus.campusName,\n      address: campus.campusAddress,\n      img: \"https://image.flaticon.com/icons/png/512/904/904810.png\"\n    })\n    .then((response) => {\n      dispatch(addCampusActionCreator(response.data));\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n};\n\nexport const updateCampus = (campus) => (dispatch) => {\n  return axios\n    .put(`http://localhost:${PORT}/api/campuses`, { campus })\n    .then((response) => {\n      dispatch(updateCampusActionCreator(response.data));\n    })\n    .catch((error) => console.error(error));\n};\n\nconst reducer = (state = [], action) => {\n  switch (action.type) {\n    case FETCH_ALL_CAMPUSES:\n      return action.payload;\n    case DELETE_CAMPUS:\n      let newState = state.filter((campus) => campus.id != action.payload);\n      return newState;\n    case ADD_CAMPUS:\n      return [...state, action.payload];\n    case UPDATE_CAMPUS:\n      return action.payload;\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n"]},"metadata":{},"sourceType":"module"}