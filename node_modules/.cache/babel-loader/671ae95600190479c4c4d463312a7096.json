{"ast":null,"code":"import _toConsumableArray from \"/Users/mohamedshafee/Documents/TTP/CRUD/CRUD-Front-End/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport axios from \"axios\"; // local backend server port number\n\nvar PORT = 8090; // ACTION TYPES;\n\nvar FETCH_ALL_STUDENTS = \"FETCH_ALL_STUDENTS\";\nvar ADD_STUDENT = \"ADD_STUDENT\";\nvar DELETE_STUDENT = \"DELETE_STUDENT\";\nvar UPDATE_STUDENT = \"UPDATE_STUDENT\"; // ACTION CREATORS;\n\nvar fetchAllStudentsActionCreator = function fetchAllStudentsActionCreator(students) {\n  return {\n    type: FETCH_ALL_STUDENTS,\n    payload: students.students\n  };\n};\n\nvar addStudentActionCreator = function addStudentActionCreator(student) {\n  return {\n    type: ADD_STUDENT,\n    payload: student\n  };\n};\n\nvar deleteStudentActionCreator = function deleteStudentActionCreator(studentID) {\n  return {\n    type: DELETE_STUDENT,\n    payload: studentID\n  };\n};\n\nvar updateStudentActionCreator = function updateStudentActionCreator(student) {\n  return {\n    type: UPDATE_STUDENT,\n    payload: student\n  };\n}; // THUNK CREATORS;\n\n\nexport var fetchAllStudents = function fetchAllStudents() {\n  return function (dispatch) {\n    console.log(\"fetching...\");\n    return axios.get(\"http://localhost:\".concat(PORT, \"/api/students\")).then(function (res) {\n      return res.data;\n    }).then(function (students) {\n      return dispatch(fetchAllStudentsActionCreator(students));\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  };\n};\nexport var addStudent = function addStudent(student) {\n  return function (dispatch) {\n    console.log(\"HERE\", student);\n    axios.post(\"http://localhost:\".concat(PORT, \"/api/students\"), {\n      student: student\n    }).then(function (response) {\n      dispatch(addStudentActionCreator(response.data));\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n};\nexport var deleteStudent = function deleteStudent(studentID) {\n  return function (dispatch) {\n    console.log(studentID);\n    return axios.delete(\"http://localhost:\".concat(PORT, \"/api/students\"), {\n      data: {\n        id: studentID\n      }\n    }).then(function () {\n      dispatch(deleteStudentActionCreator(studentID));\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  };\n};\nexport var updateStudent = function updateStudent(student) {\n  return function (dispatch) {\n    return axios.put(\"http://localhost:\".concat(PORT, \"/api/students\"), {\n      student: student\n    }).then(function (response) {\n      dispatch(updateStudentActionCreator(response.data));\n    }).catch(function (error) {\n      return console.error(error);\n    });\n  };\n}; // REDUCER;\n\nvar reducer = function reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case FETCH_ALL_STUDENTS:\n      return action.payload;\n\n    case ADD_STUDENT:\n      return _toConsumableArray(state).concat([action.payload]);\n\n    case DELETE_STUDENT:\n      var newState = state.filter(function (student) {\n        return student.id != action.payload;\n      });\n      return newState;\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["/Users/mohamedshafee/Documents/TTP/CRUD/CRUD-Front-End/src/store/utilities/StudentUtilites.js"],"names":["axios","PORT","FETCH_ALL_STUDENTS","ADD_STUDENT","DELETE_STUDENT","UPDATE_STUDENT","fetchAllStudentsActionCreator","students","type","payload","addStudentActionCreator","student","deleteStudentActionCreator","studentID","updateStudentActionCreator","fetchAllStudents","dispatch","console","log","get","then","res","data","catch","err","addStudent","post","response","deleteStudent","delete","id","updateStudent","put","error","reducer","state","action","newState","filter"],"mappings":"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","sourcesContent":["import axios from \"axios\";\n\n// local backend server port number\nconst PORT = 8090;\n\n\n// ACTION TYPES;\nconst FETCH_ALL_STUDENTS = \"FETCH_ALL_STUDENTS\";\nconst ADD_STUDENT = \"ADD_STUDENT\";\nconst DELETE_STUDENT = \"DELETE_STUDENT\"\nconst UPDATE_STUDENT = \"UPDATE_STUDENT\"\n\n// ACTION CREATORS;\nconst fetchAllStudentsActionCreator = (students) => {\n  return {\n    type: FETCH_ALL_STUDENTS,\n    payload: students.students,\n  };\n};\n\nconst addStudentActionCreator = (student) => {\n  return {\n    type: ADD_STUDENT,\n    payload: student,\n  };\n};\n\nconst deleteStudentActionCreator = (studentID) => {\n  return {\n    type: DELETE_STUDENT,\n    payload: studentID,\n  };\n};\nconst updateStudentActionCreator = (student) => {\n  return {\n    type: UPDATE_STUDENT,\n    payload: student,\n  };\n}\n\n\n\n// THUNK CREATORS;\nexport const fetchAllStudents = () => (dispatch) => {\n  console.log(\"fetching...\")\n  return axios\n    .get(`http://localhost:${PORT}/api/students`)\n    .then((res) => res.data)\n    .then((students) => dispatch(fetchAllStudentsActionCreator(students)))\n    .catch((err) => console.log(err));\n};\n\nexport const addStudent = (student) => (dispatch) => {\n  console.log(\"HERE\", student)\n  axios.post(`http://localhost:${PORT}/api/students`, {student}\n    )\n    .then((response) => {\n      dispatch(addStudentActionCreator(response.data));\n    }).catch((err) => {\n      console.log(err);\n    });\n};\n\nexport const deleteStudent = (studentID) => (dispatch) => {\n  console.log(studentID)\n  return axios.delete(`http://localhost:${PORT}/api/students`, {\n      data: {\n        id: studentID,\n      },\n    })\n    .then(() => {\n      dispatch(deleteStudentActionCreator(studentID));\n    }).catch((err) => console.log(err));\n};\n\nexport const updateStudent = (student) => (dispatch) => {\n  return axios\n    .put(`http://localhost:${PORT}/api/students`, { student })\n    .then((response) => {\n      dispatch(updateStudentActionCreator(response.data));\n    })\n    .catch((error) => console.error(error));\n};\n\n\n// REDUCER;\nconst reducer = (state = [], action) => {\n  switch (action.type) {\n    case FETCH_ALL_STUDENTS:\n      return action.payload;\n    case ADD_STUDENT:\n      return [...state, action.payload];\n    case DELETE_STUDENT:\n      let newState = state.filter((student) => student.id != action.payload);\n      return newState\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n"]},"metadata":{},"sourceType":"module"}